{
  "id": "message_merger",
  "name": "Message Aggregator",
  "description": "自动聚合消息，将多个用户的确认合并到一条消息中",
  "version": "1.0.0",
  "min_server_version": "5.20.0",
  "server": {
    "executables": {
      "linux-amd64": "server/dist/plugin-linux-amd64",
      "darwin-amd64": "server/dist/plugin-darwin-amd64",
      "windows-amd64": "server/dist/plugin-windows-amd64.exe"
    }
  },
  "webapp": {
    "bundle_path": "webapp/dist/main.js"
  },
  "settings_schema": {
    "header": "配置收到消息聚合插件",
    "footer": "",
    "settings": [
      {
        "key": "TriggerWords",
        "display_name": "触发词列表",
        "type": "text",
        "help_text": "用逗号分隔的触发词列表，默认为：收到,已收到,确认",
        "default": "收到,已收到,确认"
      },
      {
        "key": "MaxLookbackTime",
        "display_name": "仅回溯几小时内的消息",
        "type": "number",
        "help_text": "向前查找相同消息的时间限制(小时)",
        "default": 6
      },
      {
        "key": "MaxLookbackMessages",
        "display_name": "最大回溯消息数",
        "type": "number",
        "help_text": "向前查找相同消息的最大消息数量",
        "default": 3
      },
      {
        "key": "RejectMessage",
        "display_name": "合并后返回的拒绝消息",
        "type": "text",
        "help_text": "合并后返回的拒绝消息",
        "default": "消息已合并,无需重复发送"
      },
      {
        "key": "botUser",
        "display_name": "机器人用户名",
        "type": "text",
        "help_text": "机器人用户名",
        "default": "ibot"
      }
    ]
  }
}